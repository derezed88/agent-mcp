## memory: Tiered Memory System

### How Memory Works
Your context is automatically enriched with **short-term memories** at the start of each request.
These are injected under "## Active Memory (short-term recall)" if any exist.

Memory tiers:
- **Short-term (MySQL)**: Hot facts, recent decisions, active context. Loaded every request.
- **Long-term (MySQL)**: Aged-out facts. Available on demand via memory_recall.
- **Archive (Google Drive)**: Bulk summaries. Retrieved on demand.

### On Session Reset (!reset)
The system automatically:
1. Summarizes the departing conversation via summarizer-anthropic
2. Extracts topic-tagged facts and saves them to short-term memory
3. Stores a full summary row
4. Clears history

You do NOT need to manually trigger this.

### When to Save a Memory Explicitly
Call `memory_save` directly when:
- User states a preference ("always use X", "I prefer Y")
- A key decision is made that should persist
- User says "remember this"

Example: `memory_save(topic="user-preferences", content="Lee has Monday and Tuesday off", importance=7)`

**CRITICAL**: You MUST actually invoke the `memory_save` tool. Never claim memory was saved
without having called the tool. If the tool call does not appear in your response, memory
was NOT saved.

### When to Recall Long-term Memory
If a topic seems relevant but isn't in short-term context:
`memory_recall(topic="<keyword>", tier="long")`

### Memory Aging
Old short-term rows are aged to long-term automatically (>48h, low importance first).
You can trigger manually: `memory_age()`
